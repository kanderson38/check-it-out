{"version":3,"sources":["components/Home.js","firebaseConfig.js","components/FilterItem.js","components/SearchBar.js","components/FilterPane.js","components/BookItem.js","components/Books.js","components/CategoryItem.js","components/BookCategories.js","components/ShowBook.js","components/SearchResultItem.js","components/AddBook.js","App.js","serviceWorker.js","index.js"],"names":["Home","react_default","a","createElement","Component","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","FilterItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleInputChange","event","checked","state","isChecked","setState","addFilterCallback","target","name","removeFilterCallback","className","type","onChange","SearchBar","onSearchChange","searchText","value","searchBooksCallback","placeholder","FilterPane","categories","_this2","allCategories","firestore","collection","get","then","querySnapshot","forEach","doc","push","data","categoryItems","map","cat","src_components_FilterItem","key","src_components_SearchBar","BookItem","src","thumbnail","alt","title","react_router_dom","to","concat","match","url","id","author","Books","compareTitles","b","title1","toUpperCase","title2","comparison","onAddFilter","allFilters","filters","includes","onFilterResults","onRemoveFilter","index","indexOf","splice","onSearchBooks","searchString","booksToSearch","books","foundBooks","book","toLowerCase","results","filteredBooks","filteredResults","thingToCheck","console","log","where","sort","bookItems","src_components_BookItem","assign","defaultBooks","allBooks","orderBy","src_components_FilterPane","CategoryItem","selected","hidden","editing","BookCategories","listCategories","selectedCategories","src_components_CategoryItem","isHidden","unselectedCategories","allCategoryItems","saveCategories","changeEditState","editCategories","isEditing","onClick","ShowBook","changeCategoryAssignment","catArray","params","exists","arr","keys","showStatusCallback","message","catch","error","status","unselectedCats","selectedCats","publisher","publishedDate","description","createdByName","length","src_components_BookCategories","SearchResultItem","addBookCallback","API_URL","AddBook","onHandleSearchClick","preventDefault","getBooks","onHandleSearchChange","searchQuery","addBook","set","previewLink","createdByEmail","auth","currentUser","email","displayName","shouldRedirect","addedBook","axios","response","searchList","items","src_components_SearchResultItem","volumeInfo","authors","imageLinks","smallThumbnail","react_router","require","firebaseAppAuth","providers","googleProvider","GoogleAuthProvider","Users","App","showNewStatus","statusToShow","setTimeout","resetStatus","checkAgainstDatabase","user","addUserToDatabase","onSignIn","provider","signInWithPopup","result","authUser","_this$props","signOut","path","exact","component","render","src_components_Books","src_components_ShowBook","src_components_AddBook","withFirebaseAuth","Boolean","window","location","hostname","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f1a56931.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport './Home.css';\n\n\nclass Home extends Component {\n  render () {\n\n  return (\n    <div>\n      Home Page\n    </div>\n  )}\n}\n\nexport default Home;","\n\nimport * as firebase from 'firebase';\n// import firestore from 'firebase/firestore'\n\nconst config = {\n  apiKey: \"AIzaSyAD0ttSvuW22OTa4SidFkKEJx7fBGjFvr0\",\n  authDomain: \"check-it-out-efcdc.firebaseapp.com\",\n  databaseURL: \"https://check-it-out-efcdc.firebaseio.com\",\n  projectId: \"check-it-out-efcdc\",\n  storageBucket: \"check-it-out-efcdc.appspot.com\",\n  messagingSenderId: \"407557781729\",\n  appId: \"1:407557781729:web:05052bbc5c9ac84f\"\n};\nfirebase.initializeApp(config);\n\n// firebase.firestore().settings();\n\nexport default firebase;","import React, { Component } from 'react';\nimport './FilterItem.css'\n\nclass FilterItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChecked: false,\n    }\n  }\n\n  handleInputChange = (event) => {\n    const checked = this.state.isChecked;\n    this.setState({\n      isChecked: !checked,\n    })\n\n    if(this.state.isChecked === false) {\n      this.props.addFilterCallback(event.target.name);\n    } else {\n      this.props.removeFilterCallback(event.target.name);\n    }\n  }\n\n  render() {\n    return (\n      <label className=\"category-checkbox\">\n        <input\n          name={this.props.name}\n          type=\"checkbox\"\n          checked={this.state.isChecked}\n          onChange={this.handleInputChange} />\n        {this.props.name}\n      </label>\n    )\n  };\n}\n\nexport default FilterItem;","import React, { Component } from 'react';\nimport './SearchBar.css';\n\nclass SearchBar extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: \"\",\n    }\n  }\n\n  onSearchChange = (event) => {\n    this.setState({\n      searchText: event.target.value,\n    });\n\n    this.props.searchBooksCallback(event.target.value);\n  }\n\n  render() {\n    return (\n      <div className=\"search-bar-container\">\n        <label className=\"search-label\">\n          Search Books:\n        <input className=\"search-input\"\n            placeholder=\"Title, author\"\n            value={this.state.searchText}\n            onChange={this.onSearchChange}></input>\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport firebase from '../firebaseConfig';\nimport FilterItem from './FilterItem.js';\nimport SearchBar from './SearchBar.js';\nimport './FilterPane.css';\n\nclass FilterPane extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [],\n    }\n  };\n\n  componentWillMount() {\n    const allCategories = this.state.categories;\n    const db = firebase.firestore().collection(\"categories\");\n\n    db.get().then((querySnapshot) => {\n      querySnapshot.forEach((doc) => {\n        allCategories.push({ name: doc.data().name, type: doc.data().type });\n      });\n\n      const categoryItems = allCategories.map((cat) => {\n        return <FilterItem\n          key={cat.name}\n          name={cat.name}\n          type={cat.type}\n          addFilterCallback={this.props.addFilterCallback}\n          removeFilterCallback={this.props.removeFilterCallback}\n        />\n      });\n\n      this.setState({\n        categories: categoryItems,\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"filterpane-container\">\n        <SearchBar searchBooksCallback={this.props.searchBooksCallback} />\n        <div className=\"categories-container\">\n          <p><strong>Filter by Category:</strong></p>\n          {this.state.categories}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default FilterPane;","import React, {Component} from 'react';\n\nimport { Link } from 'react-router-dom';\nimport './BookItem.css';\n\nclass BookItem extends Component {\n\n  render () {\n    return (\n      <div className=\"bookitem\">\n        <img src={this.props.thumbnail} alt={this.props.title} className=\"book-item-thumbnail\"></img>\n        <Link to={`${this.props.match.url}${this.props.id}`}>{this.props.title}</Link><p> {this.props.author}</p>\n      </div>\n    )\n  }\n}\n\nexport default BookItem;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport FilterPane from './FilterPane.js';\nimport BookItem from './BookItem.js';\nimport firebase from '../firebaseConfig.js'\n\nimport './Books.css';\n\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      books: [],\n      defaultBooks: [],\n      filters: [],\n    }\n\n  }\n\n  componentDidMount() {\n    const allBooks = this.state.books;\n    const db = firebase.firestore().collection(\"books\").orderBy(\"title\");\n\n    db.get().then((querySnapshot) => {\n\n      querySnapshot.forEach((doc) => {\n\n        allBooks.push({\n          title: doc.data().title,\n          author: doc.data().author,\n          id: doc.data().id,\n          thumbnail: doc.data().thumbnail,\n          categories: doc.data().categories,\n        });\n      });\n\n      const bookItems = allBooks.map((book) => {\n        return <BookItem\n          {...this.props}\n          key={book.id}\n          title={book.title}\n          author={book.author}\n          id={book.id}\n          thumbnail={book.thumbnail}\n          categories={book.categories}\n        />\n      });\n\n      this.setState({\n        books: bookItems,\n        defaultBooks: bookItems,\n      });\n    });\n  }\n\n  compareTitles = (a, b) => {\n      const title1 = a.title.toUpperCase();\n      const title2 = b.title.toUpperCase();\n      \n      let comparison = 0;\n      if (title1 > title2) {\n        comparison = 1;\n      } else if (title1 < title2) {\n        comparison = -1;\n      }\n      return comparison;\n    \n  }\n\n  onAddFilter = (name) => {\n    const allFilters = this.state.filters;\n    if (!allFilters.includes(name)) {\n      allFilters.push(name);\n    }\n\n    // console.log(allFilters);\n    this.setState({\n      filters: allFilters,\n    });\n\n    this.onFilterResults();\n\n  }\n\n  onRemoveFilter = (name) => {\n    const allFilters = this.state.filters;\n    if (allFilters.includes(name)) {\n      let index = allFilters.indexOf(name);\n      if (index !== -1) allFilters.splice(index, 1);\n    }\n\n    this.setState({\n      filters: allFilters,\n    })\n\n    this.onFilterResults();\n\n  }\n\n  onSearchBooks = (searchString) => {\n    const booksToSearch = this.state.books;\n    const foundBooks = [];\n\n    if (searchString !== \"\") {\n      booksToSearch.forEach(function (book) {\n        if (book.props.title.toLowerCase().includes(searchString.toLowerCase()) ||\n          book.props.author.toLowerCase().includes(searchString.toLowerCase())) {\n          foundBooks.push(book);\n        }\n      });\n    } else {\n      this.onFilterResults();\n    }\n\n\n    this.setState({\n      books: foundBooks,\n    })\n  }\n\n  onFilterResults = (results) => {\n    const filteredBooks = [];\n    let filteredResults = firebase.firestore().collection('books');\n\n    this.state.filters.forEach(function (cat) {\n      const thingToCheck = 'categories.' + cat;\n      console.log(thingToCheck);\n      filteredResults = filteredResults.where(thingToCheck, '==', true);\n    });\n\n    filteredResults.get().then((querySnapshot) => {\n\n      querySnapshot.forEach(function (doc) {\n        filteredBooks.push({\n          title: doc.data().title,\n          author: doc.data().author,\n          thumbnail: doc.data().thumbnail,\n          id: doc.data().id,\n          categories: doc.data().categories,\n        });\n      });\n\n      filteredBooks.sort(this.compareTitles);\n\n\n      const bookItems = filteredBooks.map((book) => {\n        return <BookItem\n          {...this.props}\n          key={book.id}\n          title={book.title}\n          author={book.author}\n          id={book.id}\n          thumbnail={book.thumbnail}\n          categories={book.categories}\n        />\n      });\n\n      this.setState({\n        books: bookItems,\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"books-container\">\n        <div className=\"booklist-container\">\n          <div className=\"book-search\">\n            <Link to=\"/addbook/\">Add a book to the library</Link>\n          </div>\n          {this.state.books}\n        </div>\n        <div className=\"filter-pane-container\">\n          <FilterPane {...this.props} addFilterCallback={this.onAddFilter}\n            removeFilterCallback={this.onRemoveFilter}\n            searchBooksCallback={this.onSearchBooks} />\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Books;","import React, { Component } from 'react';\nimport './CategoryItem.css'\n\nclass CategoryItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChecked: this.props.selected,\n    }\n  }\n\n  handleInputChange = (event) => {\n    const checked = this.state.isChecked;\n    this.setState({\n      isChecked: !checked,\n    })\n\n\n  }\n\n  render() {\n    return (\n      <div className={this.props.hidden ? \"hidden\" : \"\"}>\n        <label className={this.state.isChecked ? \"category-item selected\" : \"category-item unselected\"}>\n          <input\n            name={this.props.name}\n            type=\"checkbox\"\n            checked={this.state.isChecked}\n            onChange={this.handleInputChange} />\n          <span className={this.props.editing ? \"checkmark\" : \"checkmark hidden\"}></span>\n          {this.props.name}\n        </label>\n      </div>\n    )\n  };\n}\n\nexport default CategoryItem;","import React, { Component } from 'react';\nimport firebase from '../firebaseConfig';\n\nimport CategoryItem from './CategoryItem';\nimport './BookCategories.css';\n\nclass BookCategories extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCategoryItems: [],\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    this.listCategories(this.state.editing);\n  }\n\n  listCategories = (editing) => {\n    let allCategories = [];\n    this.props.selectedCategories.forEach((cat) => {\n\n      allCategories.push(\n        <CategoryItem\n          key={cat}\n          name={cat}\n          selected={true}\n          editing={editing}\n\n        />\n      );\n    });\n\n    const isHidden = !editing;\n    this.props.unselectedCategories.forEach((cat) => {\n      allCategories.push(\n        <CategoryItem\n          key={cat}\n          name={cat}\n          selected={false}\n          editing={editing}\n          hidden={isHidden}\n        />\n      )\n    });\n\n    this.setState({\n      allCategoryItems: allCategories,\n    });\n  }\n\n  saveCategories = () => {\n    this.changeEditState();\n\n  }\n\n  editCategories = () => {\n    this.changeEditState();\n  }\n\n  changeEditState = () => {\n    const isEditing = !this.state.editing;\n\n    this.listCategories(isEditing);\n\n    this.setState({\n      editing: !this.state.editing,\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"categories-container\" >\n        <span className=\"categories-header\">\n          <strong>Categories:</strong>\n          {this.state.editing ? <span className=\"edit-button\" onClick={this.saveCategories}>Save</span> : <span className=\"edit-button\" onClick={this.editCategories}>Add/Edit</span>}\n        </span>\n        <div className=\"category-items-container\">\n          {this.state.allCategoryItems}\n        </div>\n      </div >\n\n    )\n  }\n}\n\nexport default BookCategories;","import React, { Component } from 'react';\nimport firebase from '../firebaseConfig.js';\nimport { Link } from 'react-router-dom';\n\nimport BookCategories from './BookCategories.js'\n\nimport './ShowBook.css';\n\nclass ShowBook extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      book: {},\n      categories: [],\n      selectedCategories: [],\n      unselectedCategories: [],\n    }\n  }\n\n  componentDidMount() {\n    const db = firebase.firestore().collection(\"books\").doc(this.props.match.params.id);\n    db.get().then((doc) => {\n      if (doc.exists) {\n        const categories = doc.data().categories;\n        const arr = categories ? Object.keys(categories) : [];\n        this.setState({\n          book: doc.data(),\n          categories: arr,\n        });\n\n\n      } else {\n        const status = {\n          type: \"error\",\n          message: `Book does not exist`,\n        }\n        this.props.showStatusCallback(status);\n      }\n    }).catch((error) => {\n      const status = {\n        type: \"error\",\n        message: error.message,\n      }\n      this.props.showStatusCallback(status);\n      console.log(\"Error getting document:\", error);\n    });\n\n    const unselectedCats = [];\n    const selectedCats = [];\n\n    const dbCats = firebase.firestore().collection(\"categories\");\n    dbCats.get().then((querySnapshot) => {\n\n      querySnapshot.forEach((doc) => {\n        if (!this.state.categories.includes(doc.data().name)) {\n\n          unselectedCats.push(\n            doc.data().name\n          );\n        } else {\n          selectedCats.push(\n            doc.data().name\n          )\n        }\n      });\n      this.setState({\n        selectedCategories: selectedCats,\n        unselectedCategories: unselectedCats,\n      });\n\n    });\n  }\n\n  changeCategoryAssignment = (catArray) => {\n    \n  }\n\n\n  render() {\n    if (this.state.book.title) {\n      return (\n        <div className=\"show-book-container\">\n          <Link to=\"/books/\" className=\"back-link\">Back to book list</Link>\n          <div className=\"book-info\">\n            <img src={this.state.book.thumbnail} alt={this.state.book.title} className=\"thumbnail\"></img>\n            <h2 className=\"title\">{this.state.book.title}</h2>\n            <span className=\"author\"><strong>{this.state.book.author}</strong></span>\n            <span className=\"publish-info\">Published by: {this.state.book.publisher}, {this.state.book.publishedDate}</span>\n            <span className=\"description\">{this.state.book.description}</span>\n            <span className=\"created-by\"><strong>Book added by:</strong> {this.state.book.createdByName ? this.state.book.createdByName : \"\"}</span>\n          </div>\n          <div className=\"book-categories-container\">\n            {this.state.unselectedCategories.length > 0 || this.state.selectedCategories.length > 0 ? <BookCategories {...this.props}\n              categories={this.state.categories}\n              selectedCategories={this.state.selectedCategories}\n              unselectedCategories={this.state.unselectedCategories}\n            /> : null}\n          </div>\n        </div>\n      )\n    } else {\n      return (null);\n    }\n  }\n}\n\nexport default ShowBook;","import React from 'react';\nimport './SearchResultItem.css'\n\nconst SearchResultItem = (props) => {\n\n  const { title, author, thumbnail, description, addBookCallback } = props;\n\n  return (\n    <div className=\"search-results\">\n      <div className=\"search-results-image-and-button\">\n        <img src={thumbnail} alt={title} className=\"search-result-thumbnail\"></img>\n        <span className=\"add-button\"  onClick={() => { addBookCallback(props) }}>Add to Library</span>\n      </div>\n      <span className=\"search-result-title\">{title}</span>\n      <span className=\"search-result-author\"> {author}</span>\n      <span className=\"search-result-description\">{description}</span>\n    </div>\n  )\n}\n\nexport default SearchResultItem;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport firebase from '../firebaseConfig.js';\nimport { Redirect } from 'react-router-dom';\nimport './AddBook.css';\n\nimport SearchResultItem from './SearchResultItem.js'\n\n\n\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes';\nclass AddBook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchQuery: \"\",\n      results: [],\n      shouldRedirect: false,\n      addedBook: null,\n    }\n  }\n\n  onHandleSearchClick = (event) => {\n    event.preventDefault();\n    this.getBooks();\n  }\n\n  onHandleSearchChange = (event) => {\n    this.setState({\n      searchQuery: event.target.value,\n    })\n  }\n\n  addBook = (book) => {\n    // add book to db\n    const db = firebase.firestore().collection(\"books\");\n\n    db.doc(book.id).set({\n      id: book.id,\n      title: book.title,\n      author: book.author,\n      thumbnail: book.thumbnail,\n      publishedDate: book.publishedDate,\n      publisher: book.publisher,\n      previewLink: book.previewLink,\n      description: book.description,\n      createdByEmail: firebase.auth().currentUser.email,\n      createdByName: firebase.auth().currentUser.displayName,\n    })\n      .then(() => {\n        this.setState({\n          shouldRedirect: true,\n          addedBook: book.id,\n        })\n\n        const status = {\n          type: \"success\",\n          message: \"Successfully added book to library! Add categories on this page.\"\n        }\n        this.props.showStatusCallback(status);\n      })\n      .catch(function (error) {\n        const status = {\n          type: \"error\",\n          message: error,\n        }\n        this.props.showStatusCallback(status);\n      });\n\n  }\n\n\n  getBooks = () => {\n    axios.get(`${API_URL}?q=${this.state.searchQuery}&printType=books`)\n      .then((response) => {\n        const searchList = response.data.items.map((book) => {\n          return <SearchResultItem\n            key={book.id}\n            id={book.id}\n            title={book.volumeInfo.title}\n            author={book.volumeInfo.authors ? book.volumeInfo.authors[0] : \"unknown\"}\n            publishedDate={book.volumeInfo.publishedDate ? book.volumeInfo.publishedDate : \"unknown\"}\n            publisher={book.volumeInfo.publisher ? book.volumeInfo.publisher : \"Unknown\"}\n            thumbnail={book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.smallThumbnail : \"\"}\n            description={book.volumeInfo.description ? book.volumeInfo.description : \"\"}\n            previewLink={book.volumeInfo.previewLink ? book.volumeInfo.previewLink : \"\"}\n\n            addBookCallback={this.addBook}\n          />\n        });\n        this.setState({ results: searchList })\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  render() {\n    if (this.state.shouldRedirect) {\n      return <Redirect to={`/books/${this.state.addedBook}`} />\n    }\n\n    return (\n      <div className=\"add-book-container\">\n        <div className=\"add-book-search-bar\">\n          <label>\n            Search for a new book:\n          <input name=\"search-api\" placeholder=\"Title\" value={this.state.searchQuery} onChange={this.onHandleSearchChange}></input>\n            <span onClick={this.onHandleSearchClick} className=\"submit-button\">Search</span>\n          </label>\n        </div>\n\n        <div className=\"search-results-container\">\n          {this.state.results}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default AddBook;","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport './App.css'\nimport Home from \"./components/Home.js\";\nimport Books from './components/Books.js';\nimport ShowBook from './components/ShowBook.js';\nimport AddBook from './components/AddBook.js';\n\nimport withFirebaseAuth from 'react-with-firebase-auth';\nimport 'firebase/auth';\nimport firebase from './firebaseConfig';\n// import * as firebase from 'firebase/app';\n\n// Required for side-effects\nrequire(\"firebase/firestore\");\n\n// const firebaseApp = firebase.initializeApp(firebaseConfig);\nconst firebaseAppAuth = firebase.auth();\n\n\nconst providers = {\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\n};\n\n\nfunction Users() {\n  return <h2>Users</h2>;\n}\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      authUser: null,\n      statusToShow: {\n        message: \"\",\n        type: \"hidden\",\n      },\n    }\n  }\n\n  showNewStatus = (status) => {\n      this.setState ({\n        statusToShow: {\n          message: status.message,\n          type: status.type,\n        }\n      });\n\n      setTimeout(this.resetStatus, 5000);\n  }\n\n  resetStatus = () => {\n    this.setState ({\n      statusToShow: {\n        message: \"\",\n        type: \"hidden\",\n      }\n    })\n  }\n\n  checkAgainstDatabase = (user) => {\n    const docRef = firebase.firestore().collection(\"users\").doc(user.email);\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        console.log(\"Document data:\", doc.data());\n      } else {\n        this.addUserToDatabase(user);\n      }\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n\n  }\n\n  addUserToDatabase = (user) => {\n    const db = firebase.firestore();\n    db.collection(\"users\").doc(user.email).set({\n      name: user.displayName,\n      email: user.email,\n    })\n      .then(function () {\n        console.log(\"Document successfully written!\");\n      })\n      .catch(function (error) {\n        console.error(\"Error writing document: \", error);\n      });\n    console.log(\"No such document!\");\n  }\n\n  onSignIn = (event) => {\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth().signInWithPopup(provider).then((result) => {\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      // var token = result.credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n\n      this.checkAgainstDatabase(user);\n      const status = {\n        type: \"success\",\n        message: \"Successfully logged in\",\n      }\n      this.showNewStatus(status);\n    }).catch(function (error) {\n      // Handle Errors here.\n      // var errorCode = error.code;\n      // var errorMessage = error.message;\n      // // The email of the user's account used.\n      // var email = error.email;\n      // // The firebase.auth.AuthCredential type that was used.\n      // var credential = error.credential;\n      const status = {\n        type: \"error\",\n        message: error.message,\n      }\n      this.showNewStatus(status);\n    });\n  }\n\n  render() {\n    const {\n      user,\n      signOut,\n    } = this.props;\n\n    return (\n      <Router>\n        <div>\n          <nav>\n            <div className=\"login\">\n              {\n                user\n                  ? <span className=\"login-span\">Hello, {user.displayName}</span>\n                  : <span className=\"login-span\">Please sign in.</span>\n              }\n              {\n                user\n                  ? <span className=\"login-button\" onClick={signOut}>Sign out</span>\n                  : <span className=\"login-button\" onClick={this.onSignIn}>Sign in with Google</span>\n              }\n            </div>\n\n            <h1 className=\"logo\">Check It Out</h1>\n\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/books/\">Full Library</Link>\n              </li>\n              <li>\n                <Link to=\"/users/\">Users</Link>\n              </li>\n            </ul>\n          </nav>\n          <div className={`status ${this.state.statusToShow.type}`}>\n              <p>{this.state.statusToShow.message}</p>\n          </div>\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route\n              path='/books/' exact\n              render={(props) => <Books {...props} />}\n            />\n            <Route path=\"/users/\" component={Users} />\n            <Route path=\"/books/:id\" render={(props) => <ShowBook {...props} showStatusCallback={this.showNewStatus} />} />\n            <Route path=\"/addbook/\" render={(props) => <AddBook {...props} showStatusCallback={this.showNewStatus} />} />\n          </Switch>\n\n        </div>\n      </Router>\n    )\n  };\n}\n\n\nexport default withFirebaseAuth({\n  providers,\n  firebaseAppAuth,\n})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}